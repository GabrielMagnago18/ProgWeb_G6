"use strict";var __getOwnPropNames=Object.getOwnPropertyNames,__commonJS=(R,E)=>function(){return E||(0,R[__getOwnPropNames(R)[0]])((E={exports:{}}).exports,E),E.exports},require_performance=__commonJS({"out-build/vs/base/common/performance.js"(R,E){"use strict";(function(){function b(o){const d=[];typeof o=="number"&&d.push("code/timeOrigin",o);function _(h){d.push(h,Date.now())}function g(){const h=[];for(let i=0;i<d.length;i+=2)h.push({name:d[i],startTime:d[i+1]});return h}return{mark:_,getMarks:g}}function C(){if(typeof performance=="object"&&typeof performance.mark=="function"&&!performance.nodeTiming)return typeof performance.timeOrigin!="number"&&!performance.timing?b():{mark(o){performance.mark(o)},getMarks(){let o=performance.timeOrigin;typeof o!="number"&&(o=performance.timing.navigationStart||performance.timing.redirectStart||performance.timing.fetchStart);const d=[{name:"code/timeOrigin",startTime:Math.round(o)}];for(const _ of performance.getEntriesByType("mark"))d.push({name:_.name,startTime:Math.round(o+_.startTime)});return d}};if(typeof process=="object"){const o=performance?.timeOrigin??Math.round((require.__$__nodeRequire||require)("perf_hooks").performance.timeOrigin);return b(o)}else return console.trace("perf-util loaded in UNKNOWN environment"),b()}function O(o){return o.MonacoPerformanceMarks||(o.MonacoPerformanceMarks=C()),o.MonacoPerformanceMarks}var m;typeof global=="object"?m=global:typeof self=="object"?m=self:m={},typeof define=="function"?define([],function(){return O(m)}):typeof E=="object"&&typeof E.exports=="object"?E.exports=O(m):(console.trace("perf-util defined in UNKNOWN context (neither requirejs or commonjs)"),m.perf=O(m))})()}}),require_bootstrap_node=__commonJS({"out-build/bootstrap-node.js"(R){"use strict";function E(){const b=require("path");try{typeof process.env.VSCODE_CWD!="string"&&(process.env.VSCODE_CWD=process.cwd()),process.platform==="win32"&&process.chdir(b.dirname(process.execPath))}catch(C){console.error(C)}}E(),R.injectNodeModuleLookupPath=function(b){if(!b)throw new Error("Missing injectPath");const C=require("module"),m=require("path").join(__dirname,"../node_modules"),o=C._resolveLookupPaths;C._resolveLookupPaths=function(d,_){const g=o(d,_);if(Array.isArray(g)){for(let h=0,i=g.length;h<i;h++)if(g[h]===m){g.splice(h,0,b);break}}return g}},R.removeGlobalNodeModuleLookupPaths=function(){const b=require("module"),C=b.globalPaths,O=b._resolveLookupPaths;b._resolveLookupPaths=function(m,o){const d=O(m,o);if(Array.isArray(d)){let _=0;for(;_<d.length&&d[d.length-1-_]===C[C.length-1-_];)_++;return d.slice(0,d.length-_)}return d}},R.configurePortable=function(b){const C=require("fs"),O=require("path"),m=O.dirname(__dirname);function o(c){return process.env.VSCODE_DEV?m:process.platform==="darwin"?c.dirname(c.dirname(c.dirname(m))):c.dirname(c.dirname(m))}function d(c){if(process.env.VSCODE_PORTABLE)return process.env.VSCODE_PORTABLE;if(process.platform==="win32"||process.platform==="linux")return c.join(o(c),"data");const f=b.portable||`${b.applicationName}-portable-data`;return c.join(c.dirname(o(c)),f)}const _=d(O),g=!("target"in b)&&C.existsSync(_),h=O.join(_,"tmp"),i=g&&C.existsSync(h);return g?process.env.VSCODE_PORTABLE=_:delete process.env.VSCODE_PORTABLE,i&&(process.platform==="win32"?(process.env.TMP=h,process.env.TEMP=h):process.env.TMPDIR=h),{portableDataPath:_,isPortable:g}}}}),require_loader=__commonJS({"out-build/vs/loader.js"(R,E){"use strict";var b=R,C=typeof global=="object"?global:{},m;(function(o){o.global=b;class d{get isWindows(){return this._detect(),this._isWindows}get isNode(){return this._detect(),this._isNode}get isElectronRenderer(){return this._detect(),this._isElectronRenderer}get isWebWorker(){return this._detect(),this._isWebWorker}get isElectronNodeIntegrationWebWorker(){return this._detect(),this._isElectronNodeIntegrationWebWorker}constructor(){this._detected=!1,this._isWindows=!1,this._isNode=!1,this._isElectronRenderer=!1,this._isWebWorker=!1,this._isElectronNodeIntegrationWebWorker=!1}_detect(){this._detected||(this._detected=!0,this._isWindows=d._isWindows(),this._isNode=typeof E<"u"&&!!E.exports,this._isElectronRenderer=typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.electron<"u"&&process.type==="renderer",this._isWebWorker=typeof o.global.importScripts=="function",this._isElectronNodeIntegrationWebWorker=this._isWebWorker&&typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.electron<"u"&&process.type==="worker")}static _isWindows(){return typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.indexOf("Windows")>=0?!0:typeof process<"u"?process.platform==="win32":!1}}o.Environment=d})(m||(m={}));var m;(function(o){class d{constructor(i,c,f){this.type=i,this.detail=c,this.timestamp=f}}o.LoaderEvent=d;class _{constructor(i){this._events=[new d(1,"",i)]}record(i,c){this._events.push(new d(i,c,o.Utilities.getHighPerformanceTimestamp()))}getEvents(){return this._events}}o.LoaderEventRecorder=_;class g{record(i,c){}getEvents(){return[]}}g.INSTANCE=new g,o.NullLoaderEventRecorder=g})(m||(m={}));var m;(function(o){class d{static fileUriToFilePath(g,h){if(h=decodeURI(h).replace(/%23/g,"#"),g){if(/^file:\/\/\//.test(h))return h.substr(8);if(/^file:\/\//.test(h))return h.substr(5)}else if(/^file:\/\//.test(h))return h.substr(7);return h}static startsWith(g,h){return g.length>=h.length&&g.substr(0,h.length)===h}static endsWith(g,h){return g.length>=h.length&&g.substr(g.length-h.length)===h}static containsQueryString(g){return/^[^\#]*\?/gi.test(g)}static isAbsolutePath(g){return/^((http:\/\/)|(https:\/\/)|(file:\/\/)|(\/))/.test(g)}static forEachProperty(g,h){if(g){let i;for(i in g)g.hasOwnProperty(i)&&h(i,g[i])}}static isEmpty(g){let h=!0;return d.forEachProperty(g,()=>{h=!1}),h}static recursiveClone(g){if(!g||typeof g!="object"||g instanceof RegExp||!Array.isArray(g)&&Object.getPrototypeOf(g)!==Object.prototype)return g;let h=Array.isArray(g)?[]:{};return d.forEachProperty(g,(i,c)=>{c&&typeof c=="object"?h[i]=d.recursiveClone(c):h[i]=c}),h}static generateAnonymousModule(){return"===anonymous"+d.NEXT_ANONYMOUS_ID+++"==="}static isAnonymousModule(g){return d.startsWith(g,"===anonymous")}static getHighPerformanceTimestamp(){return this.PERFORMANCE_NOW_PROBED||(this.PERFORMANCE_NOW_PROBED=!0,this.HAS_PERFORMANCE_NOW=o.global.performance&&typeof o.global.performance.now=="function"),this.HAS_PERFORMANCE_NOW?o.global.performance.now():Date.now()}}d.NEXT_ANONYMOUS_ID=1,d.PERFORMANCE_NOW_PROBED=!1,d.HAS_PERFORMANCE_NOW=!1,o.Utilities=d})(m||(m={}));var m;(function(o){function d(h){if(h instanceof Error)return h;const i=new Error(h.message||String(h)||"Unknown Error");return h.stack&&(i.stack=h.stack),i}o.ensureError=d;class _{static validateConfigurationOptions(i){function c(f){if(f.phase==="loading"){console.error('Loading "'+f.moduleId+'" failed'),console.error(f),console.error("Here are the modules that depend on it:"),console.error(f.neededBy);return}if(f.phase==="factory"){console.error('The factory function of "'+f.moduleId+'" has thrown an exception'),console.error(f),console.error("Here are the modules that depend on it:"),console.error(f.neededBy);return}}if(i=i||{},typeof i.baseUrl!="string"&&(i.baseUrl=""),typeof i.isBuild!="boolean"&&(i.isBuild=!1),typeof i.paths!="object"&&(i.paths={}),typeof i.config!="object"&&(i.config={}),typeof i.catchError>"u"&&(i.catchError=!1),typeof i.recordStats>"u"&&(i.recordStats=!1),typeof i.urlArgs!="string"&&(i.urlArgs=""),typeof i.onError!="function"&&(i.onError=c),Array.isArray(i.ignoreDuplicateModules)||(i.ignoreDuplicateModules=[]),i.baseUrl.length>0&&(o.Utilities.endsWith(i.baseUrl,"/")||(i.baseUrl+="/")),typeof i.cspNonce!="string"&&(i.cspNonce=""),typeof i.preferScriptTags>"u"&&(i.preferScriptTags=!1),i.nodeCachedData&&typeof i.nodeCachedData=="object"&&(typeof i.nodeCachedData.seed!="string"&&(i.nodeCachedData.seed="seed"),(typeof i.nodeCachedData.writeDelay!="number"||i.nodeCachedData.writeDelay<0)&&(i.nodeCachedData.writeDelay=1e3*7),!i.nodeCachedData.path||typeof i.nodeCachedData.path!="string")){const f=d(new Error("INVALID cached data configuration, 'path' MUST be set"));f.phase="configuration",i.onError(f),i.nodeCachedData=void 0}return i}static mergeConfigurationOptions(i=null,c=null){let f=o.Utilities.recursiveClone(c||{});return o.Utilities.forEachProperty(i,(t,e)=>{t==="ignoreDuplicateModules"&&typeof f.ignoreDuplicateModules<"u"?f.ignoreDuplicateModules=f.ignoreDuplicateModules.concat(e):t==="paths"&&typeof f.paths<"u"?o.Utilities.forEachProperty(e,(r,n)=>f.paths[r]=n):t==="config"&&typeof f.config<"u"?o.Utilities.forEachProperty(e,(r,n)=>f.config[r]=n):f[t]=o.Utilities.recursiveClone(e)}),_.validateConfigurationOptions(f)}}o.ConfigurationOptionsUtil=_;class g{constructor(i,c){if(this._env=i,this.options=_.mergeConfigurationOptions(c),this._createIgnoreDuplicateModulesMap(),this._createSortedPathsRules(),this.options.baseUrl===""&&this.options.nodeRequire&&this.options.nodeRequire.main&&this.options.nodeRequire.main.filename&&this._env.isNode){let f=this.options.nodeRequire.main.filename,t=Math.max(f.lastIndexOf("/"),f.lastIndexOf("\\"));this.options.baseUrl=f.substring(0,t+1)}}_createIgnoreDuplicateModulesMap(){this.ignoreDuplicateModulesMap={};for(let i=0;i<this.options.ignoreDuplicateModules.length;i++)this.ignoreDuplicateModulesMap[this.options.ignoreDuplicateModules[i]]=!0}_createSortedPathsRules(){this.sortedPathsRules=[],o.Utilities.forEachProperty(this.options.paths,(i,c)=>{Array.isArray(c)?this.sortedPathsRules.push({from:i,to:c}):this.sortedPathsRules.push({from:i,to:[c]})}),this.sortedPathsRules.sort((i,c)=>c.from.length-i.from.length)}cloneAndMerge(i){return new g(this._env,_.mergeConfigurationOptions(i,this.options))}getOptionsLiteral(){return this.options}_applyPaths(i){let c;for(let f=0,t=this.sortedPathsRules.length;f<t;f++)if(c=this.sortedPathsRules[f],o.Utilities.startsWith(i,c.from)){let e=[];for(let r=0,n=c.to.length;r<n;r++)e.push(c.to[r]+i.substr(c.from.length));return e}return[i]}_addUrlArgsToUrl(i){return o.Utilities.containsQueryString(i)?i+"&"+this.options.urlArgs:i+"?"+this.options.urlArgs}_addUrlArgsIfNecessaryToUrl(i){return this.options.urlArgs?this._addUrlArgsToUrl(i):i}_addUrlArgsIfNecessaryToUrls(i){if(this.options.urlArgs)for(let c=0,f=i.length;c<f;c++)i[c]=this._addUrlArgsToUrl(i[c]);return i}moduleIdToPaths(i){if(this._env.isNode&&this.options.amdModulesPattern instanceof RegExp&&!this.options.amdModulesPattern.test(i))return this.isBuild()?["empty:"]:["node|"+i];let c=i,f;if(!o.Utilities.endsWith(c,".js")&&!o.Utilities.isAbsolutePath(c)){f=this._applyPaths(c);for(let t=0,e=f.length;t<e;t++)this.isBuild()&&f[t]==="empty:"||(o.Utilities.isAbsolutePath(f[t])||(f[t]=this.options.baseUrl+f[t]),!o.Utilities.endsWith(f[t],".js")&&!o.Utilities.containsQueryString(f[t])&&(f[t]=f[t]+".js"))}else!o.Utilities.endsWith(c,".js")&&!o.Utilities.containsQueryString(c)&&(c=c+".js"),f=[c];return this._addUrlArgsIfNecessaryToUrls(f)}requireToUrl(i){let c=i;return o.Utilities.isAbsolutePath(c)||(c=this._applyPaths(c)[0],o.Utilities.isAbsolutePath(c)||(c=this.options.baseUrl+c)),this._addUrlArgsIfNecessaryToUrl(c)}isBuild(){return this.options.isBuild}shouldInvokeFactory(i){return!!(!this.options.isBuild||o.Utilities.isAnonymousModule(i)||this.options.buildForceInvokeFactory&&this.options.buildForceInvokeFactory[i])}isDuplicateMessageIgnoredFor(i){return this.ignoreDuplicateModulesMap.hasOwnProperty(i)}getConfigForModule(i){if(this.options.config)return this.options.config[i]}shouldCatchError(){return this.options.catchError}shouldRecordStats(){return this.options.recordStats}onError(i){this.options.onError(i)}}o.Configuration=g})(m||(m={}));var m;(function(o){class d{constructor(e){this._env=e,this._scriptLoader=null,this._callbackMap={}}load(e,r,n,s){if(!this._scriptLoader)if(this._env.isWebWorker)this._scriptLoader=new h;else if(this._env.isElectronRenderer){const{preferScriptTags:a}=e.getConfig().getOptionsLiteral();a?this._scriptLoader=new _:this._scriptLoader=new i(this._env)}else this._env.isNode?this._scriptLoader=new i(this._env):this._scriptLoader=new _;let u={callback:n,errorback:s};if(this._callbackMap.hasOwnProperty(r)){this._callbackMap[r].push(u);return}this._callbackMap[r]=[u],this._scriptLoader.load(e,r,()=>this.triggerCallback(r),a=>this.triggerErrorback(r,a))}triggerCallback(e){let r=this._callbackMap[e];delete this._callbackMap[e];for(let n=0;n<r.length;n++)r[n].callback()}triggerErrorback(e,r){let n=this._callbackMap[e];delete this._callbackMap[e];for(let s=0;s<n.length;s++)n[s].errorback(r)}}class _{attachListeners(e,r,n){let s=()=>{e.removeEventListener("load",u),e.removeEventListener("error",a)},u=l=>{s(),r()},a=l=>{s(),n(l)};e.addEventListener("load",u),e.addEventListener("error",a)}load(e,r,n,s){if(/^node\|/.test(r)){let u=e.getConfig().getOptionsLiteral(),a=c(e.getRecorder(),u.nodeRequire||o.global.nodeRequire),l=r.split("|"),p=null;try{p=a(l[1])}catch(v){s(v);return}e.enqueueDefineAnonymousModule([],()=>p),n()}else{let u=document.createElement("script");u.setAttribute("async","async"),u.setAttribute("type","text/javascript"),this.attachListeners(u,n,s);const{trustedTypesPolicy:a}=e.getConfig().getOptionsLiteral();a&&(r=a.createScriptURL(r)),u.setAttribute("src",r);const{cspNonce:l}=e.getConfig().getOptionsLiteral();l&&u.setAttribute("nonce",l),document.getElementsByTagName("head")[0].appendChild(u)}}}function g(t){const{trustedTypesPolicy:e}=t.getConfig().getOptionsLiteral();try{return(e?self.eval(e.createScript("","true")):new Function("true")).call(self),!0}catch{return!1}}class h{constructor(){this._cachedCanUseEval=null}_canUseEval(e){return this._cachedCanUseEval===null&&(this._cachedCanUseEval=g(e)),this._cachedCanUseEval}load(e,r,n,s){if(/^node\|/.test(r)){const u=e.getConfig().getOptionsLiteral(),a=c(e.getRecorder(),u.nodeRequire||o.global.nodeRequire),l=r.split("|");let p=null;try{p=a(l[1])}catch(v){s(v);return}e.enqueueDefineAnonymousModule([],function(){return p}),n()}else{const{trustedTypesPolicy:u}=e.getConfig().getOptionsLiteral();if(!(/^((http:)|(https:)|(file:))/.test(r)&&r.substring(0,self.origin.length)!==self.origin)&&this._canUseEval(e)){fetch(r).then(l=>{if(l.status!==200)throw new Error(l.statusText);return l.text()}).then(l=>{l=`${l}
//# sourceURL=${r}`,(u?self.eval(u.createScript("",l)):new Function(l)).call(self),n()}).then(void 0,s);return}try{u&&(r=u.createScriptURL(r)),importScripts(r),n()}catch(l){s(l)}}}}class i{constructor(e){this._env=e,this._didInitialize=!1,this._didPatchNodeRequire=!1}_init(e){this._didInitialize||(this._didInitialize=!0,this._fs=e("fs"),this._vm=e("vm"),this._path=e("path"),this._crypto=e("crypto"))}_initNodeRequire(e,r){const{nodeCachedData:n}=r.getConfig().getOptionsLiteral();if(!n||this._didPatchNodeRequire)return;this._didPatchNodeRequire=!0;const s=this,u=e("module");function a(l){const p=l.constructor;let v=function(P){try{return l.require(P)}finally{}};return v.resolve=function(P,S){return p._resolveFilename(P,l,!1,S)},v.resolve.paths=function(P){return p._resolveLookupPaths(P,l)},v.main=process.mainModule,v.extensions=p._extensions,v.cache=p._cache,v}u.prototype._compile=function(l,p){const v=u.wrap(l.replace(/^#!.*/,"")),y=r.getRecorder(),P=s._getCachedDataPath(n,p),S={filename:p};let D;try{const N=s._fs.readFileSync(P);D=N.slice(0,16),S.cachedData=N.slice(16),y.record(60,P)}catch{y.record(61,P)}const w=new s._vm.Script(v,S),I=w.runInThisContext(S),q=s._path.dirname(p),U=a(this),k=[this.exports,U,this,p,q,process,C,Buffer],T=I.apply(this.exports,k);return s._handleCachedData(w,v,P,!S.cachedData,r),s._verifyCachedData(w,v,P,D,r),T}}load(e,r,n,s){const u=e.getConfig().getOptionsLiteral(),a=c(e.getRecorder(),u.nodeRequire||o.global.nodeRequire),l=u.nodeInstrumenter||function(v){return v};this._init(a),this._initNodeRequire(a,e);let p=e.getRecorder();if(/^node\|/.test(r)){let v=r.split("|"),y=null;try{y=a(v[1])}catch(P){s(P);return}e.enqueueDefineAnonymousModule([],()=>y),n()}else{r=o.Utilities.fileUriToFilePath(this._env.isWindows,r);const v=this._path.normalize(r),y=this._getElectronRendererScriptPathOrUri(v),P=!!u.nodeCachedData,S=P?this._getCachedDataPath(u.nodeCachedData,r):void 0;this._readSourceAndCachedData(v,S,p,(D,w,I,q)=>{if(D){s(D);return}let U;w.charCodeAt(0)===i._BOM?U=i._PREFIX+w.substring(1)+i._SUFFIX:U=i._PREFIX+w+i._SUFFIX,U=l(U,v);const k={filename:y,cachedData:I},T=this._createAndEvalScript(e,U,k,n,s);this._handleCachedData(T,U,S,P&&!I,e),this._verifyCachedData(T,U,S,q,e)})}}_createAndEvalScript(e,r,n,s,u){const a=e.getRecorder();a.record(31,n.filename);const l=new this._vm.Script(r,n),p=l.runInThisContext(n),v=e.getGlobalAMDDefineFunc();let y=!1;const P=function(){return y=!0,v.apply(null,arguments)};return P.amd=v.amd,p.call(o.global,e.getGlobalAMDRequireFunc(),P,n.filename,this._path.dirname(n.filename)),a.record(32,n.filename),y?s():u(new Error(`Didn't receive define call in ${n.filename}!`)),l}_getElectronRendererScriptPathOrUri(e){if(!this._env.isElectronRenderer)return e;let r=e.match(/^([a-z])\:(.*)/i);return r?`file:///${(r[1].toUpperCase()+":"+r[2]).replace(/\\/g,"/")}`:`file://${e}`}_getCachedDataPath(e,r){const n=this._crypto.createHash("md5").update(r,"utf8").update(e.seed,"utf8").update(process.arch,"").digest("hex"),s=this._path.basename(r).replace(/\.js$/,"");return this._path.join(e.path,`${s}-${n}.code`)}_handleCachedData(e,r,n,s,u){e.cachedDataRejected?this._fs.unlink(n,a=>{u.getRecorder().record(62,n),this._createAndWriteCachedData(e,r,n,u),a&&u.getConfig().onError(a)}):s&&this._createAndWriteCachedData(e,r,n,u)}_createAndWriteCachedData(e,r,n,s){let u=Math.ceil(s.getConfig().getOptionsLiteral().nodeCachedData.writeDelay*(1+Math.random())),a=-1,l=0,p;const v=()=>{setTimeout(()=>{p||(p=this._crypto.createHash("md5").update(r,"utf8").digest());const y=e.createCachedData();if(!(y.length===0||y.length===a||l>=5)){if(y.length<a){v();return}a=y.length,this._fs.writeFile(n,Buffer.concat([p,y]),P=>{P&&s.getConfig().onError(P),s.getRecorder().record(63,n),v()})}},u*Math.pow(4,l++))};v()}_readSourceAndCachedData(e,r,n,s){if(!r)this._fs.readFile(e,{encoding:"utf8"},s);else{let u,a,l,p=2;const v=y=>{y?s(y):--p===0&&s(void 0,u,a,l)};this._fs.readFile(e,{encoding:"utf8"},(y,P)=>{u=P,v(y)}),this._fs.readFile(r,(y,P)=>{!y&&P&&P.length>0?(l=P.slice(0,16),a=P.slice(16),n.record(60,r)):n.record(61,r),v()})}}_verifyCachedData(e,r,n,s,u){s&&(e.cachedDataRejected||setTimeout(()=>{const a=this._crypto.createHash("md5").update(r,"utf8").digest();s.equals(a)||(u.getConfig().onError(new Error(`FAILED TO VERIFY CACHED DATA, deleting stale '${n}' now, but a RESTART IS REQUIRED`)),this._fs.unlink(n,l=>{l&&u.getConfig().onError(l)}))},Math.ceil(5e3*(1+Math.random()))))}}i._BOM=65279,i._PREFIX="(function (require, define, __filename, __dirname) { ",i._SUFFIX=`
});`;function c(t,e){if(e.__$__isRecorded)return e;const r=function(s){t.record(33,s);try{return e(s)}finally{t.record(34,s)}};return r.__$__isRecorded=!0,r}o.ensureRecordedNodeRequire=c;function f(t){return new d(t)}o.createScriptLoader=f})(m||(m={}));var m;(function(o){class d{constructor(t){let e=t.lastIndexOf("/");e!==-1?this.fromModulePath=t.substr(0,e+1):this.fromModulePath=""}static _normalizeModuleId(t){let e=t,r;for(r=/\/\.\//;r.test(e);)e=e.replace(r,"/");for(e=e.replace(/^\.\//g,""),r=/\/(([^\/])|([^\/][^\/\.])|([^\/\.][^\/])|([^\/][^\/][^\/]+))\/\.\.\//;r.test(e);)e=e.replace(r,"/");return e=e.replace(/^(([^\/])|([^\/][^\/\.])|([^\/\.][^\/])|([^\/][^\/][^\/]+))\/\.\.\//,""),e}resolveModule(t){let e=t;return o.Utilities.isAbsolutePath(e)||(o.Utilities.startsWith(e,"./")||o.Utilities.startsWith(e,"../"))&&(e=d._normalizeModuleId(this.fromModulePath+e)),e}}d.ROOT=new d(""),o.ModuleIdResolver=d;class _{constructor(t,e,r,n,s,u){this.id=t,this.strId=e,this.dependencies=r,this._callback=n,this._errorback=s,this.moduleIdResolver=u,this.exports={},this.error=null,this.exportsPassedIn=!1,this.unresolvedDependenciesCount=this.dependencies.length,this._isComplete=!1}static _safeInvokeFunction(t,e){try{return{returnedValue:t.apply(o.global,e),producedError:null}}catch(r){return{returnedValue:null,producedError:r}}}static _invokeFactory(t,e,r,n){return t.shouldInvokeFactory(e)?t.shouldCatchError()?this._safeInvokeFunction(r,n):{returnedValue:r.apply(o.global,n),producedError:null}:{returnedValue:null,producedError:null}}complete(t,e,r,n){this._isComplete=!0;let s=null;if(this._callback)if(typeof this._callback=="function"){t.record(21,this.strId);let u=_._invokeFactory(e,this.strId,this._callback,r);s=u.producedError,t.record(22,this.strId),!s&&typeof u.returnedValue<"u"&&(!this.exportsPassedIn||o.Utilities.isEmpty(this.exports))&&(this.exports=u.returnedValue)}else this.exports=this._callback;if(s){let u=o.ensureError(s);u.phase="factory",u.moduleId=this.strId,u.neededBy=n(this.id),this.error=u,e.onError(u)}this.dependencies=null,this._callback=null,this._errorback=null,this.moduleIdResolver=null}onDependencyError(t){return this._isComplete=!0,this.error=t,this._errorback?(this._errorback(t),!0):!1}isComplete(){return this._isComplete}}o.Module=_;class g{constructor(){this._nextId=0,this._strModuleIdToIntModuleId=new Map,this._intModuleIdToStrModuleId=[],this.getModuleId("exports"),this.getModuleId("module"),this.getModuleId("require")}getMaxModuleId(){return this._nextId}getModuleId(t){let e=this._strModuleIdToIntModuleId.get(t);return typeof e>"u"&&(e=this._nextId++,this._strModuleIdToIntModuleId.set(t,e),this._intModuleIdToStrModuleId[e]=t),e}getStrModuleId(t){return this._intModuleIdToStrModuleId[t]}}class h{constructor(t){this.id=t}}h.EXPORTS=new h(0),h.MODULE=new h(1),h.REQUIRE=new h(2),o.RegularDependency=h;class i{constructor(t,e,r){this.id=t,this.pluginId=e,this.pluginParam=r}}o.PluginDependency=i;class c{constructor(t,e,r,n,s=0){this._env=t,this._scriptLoader=e,this._loaderAvailableTimestamp=s,this._defineFunc=r,this._requireFunc=n,this._moduleIdProvider=new g,this._config=new o.Configuration(this._env),this._hasDependencyCycle=!1,this._modules2=[],this._knownModules2=[],this._inverseDependencies2=[],this._inversePluginDependencies2=new Map,this._currentAnonymousDefineCall=null,this._recorder=null,this._buildInfoPath=[],this._buildInfoDefineStack=[],this._buildInfoDependencies=[],this._requireFunc.moduleManager=this}reset(){return new c(this._env,this._scriptLoader,this._defineFunc,this._requireFunc,this._loaderAvailableTimestamp)}getGlobalAMDDefineFunc(){return this._defineFunc}getGlobalAMDRequireFunc(){return this._requireFunc}static _findRelevantLocationInStack(t,e){let r=u=>u.replace(/\\/g,"/"),n=r(t),s=e.split(/\n/);for(let u=0;u<s.length;u++){let a=s[u].match(/(.*):(\d+):(\d+)\)?$/);if(a){let l=a[1],p=a[2],v=a[3],y=Math.max(l.lastIndexOf(" ")+1,l.lastIndexOf("(")+1);if(l=l.substr(y),l=r(l),l===n){let P={line:parseInt(p,10),col:parseInt(v,10)};return P.line===1&&(P.col-=53),P}}}throw new Error("Could not correlate define call site for needle "+t)}getBuildInfo(){if(!this._config.isBuild())return null;let t=[],e=0;for(let r=0,n=this._modules2.length;r<n;r++){let s=this._modules2[r];if(!s)continue;let u=this._buildInfoPath[s.id]||null,a=this._buildInfoDefineStack[s.id]||null,l=this._buildInfoDependencies[s.id];t[e++]={id:s.strId,path:u,defineLocation:u&&a?c._findRelevantLocationInStack(u,a):null,dependencies:l,shim:null,exports:s.exports}}return t}getRecorder(){return this._recorder||(this._config.shouldRecordStats()?this._recorder=new o.LoaderEventRecorder(this._loaderAvailableTimestamp):this._recorder=o.NullLoaderEventRecorder.INSTANCE),this._recorder}getLoaderEvents(){return this.getRecorder().getEvents()}enqueueDefineAnonymousModule(t,e){if(this._currentAnonymousDefineCall!==null)throw new Error("Can only have one anonymous define call per script file");let r=null;this._config.isBuild()&&(r=new Error("StackLocation").stack||null),this._currentAnonymousDefineCall={stack:r,dependencies:t,callback:e}}defineModule(t,e,r,n,s,u=new d(t)){let a=this._moduleIdProvider.getModuleId(t);if(this._modules2[a]){this._config.isDuplicateMessageIgnoredFor(t)||console.warn("Duplicate definition of module '"+t+"'");return}let l=new _(a,t,this._normalizeDependencies(e,u),r,n,u);this._modules2[a]=l,this._config.isBuild()&&(this._buildInfoDefineStack[a]=s,this._buildInfoDependencies[a]=(l.dependencies||[]).map(p=>this._moduleIdProvider.getStrModuleId(p.id))),this._resolve(l)}_normalizeDependency(t,e){if(t==="exports")return h.EXPORTS;if(t==="module")return h.MODULE;if(t==="require")return h.REQUIRE;let r=t.indexOf("!");if(r>=0){let n=e.resolveModule(t.substr(0,r)),s=e.resolveModule(t.substr(r+1)),u=this._moduleIdProvider.getModuleId(n+"!"+s),a=this._moduleIdProvider.getModuleId(n);return new i(u,a,s)}return new h(this._moduleIdProvider.getModuleId(e.resolveModule(t)))}_normalizeDependencies(t,e){let r=[],n=0;for(let s=0,u=t.length;s<u;s++)r[n++]=this._normalizeDependency(t[s],e);return r}_relativeRequire(t,e,r,n){if(typeof e=="string")return this.synchronousRequire(e,t);this.defineModule(o.Utilities.generateAnonymousModule(),e,r,n,null,t)}synchronousRequire(t,e=new d(t)){let r=this._normalizeDependency(t,e),n=this._modules2[r.id];if(!n)throw new Error("Check dependency list! Synchronous require cannot resolve module '"+t+"'. This is the first mention of this module!");if(!n.isComplete())throw new Error("Check dependency list! Synchronous require cannot resolve module '"+t+"'. This module has not been resolved completely yet.");if(n.error)throw n.error;return n.exports}configure(t,e){let r=this._config.shouldRecordStats();e?this._config=new o.Configuration(this._env,t):this._config=this._config.cloneAndMerge(t),this._config.shouldRecordStats()&&!r&&(this._recorder=null)}getConfig(){return this._config}_onLoad(t){if(this._currentAnonymousDefineCall!==null){let e=this._currentAnonymousDefineCall;this._currentAnonymousDefineCall=null,this.defineModule(this._moduleIdProvider.getStrModuleId(t),e.dependencies,e.callback,null,e.stack)}}_createLoadError(t,e){let r=this._moduleIdProvider.getStrModuleId(t),n=(this._inverseDependencies2[t]||[]).map(u=>this._moduleIdProvider.getStrModuleId(u));const s=o.ensureError(e);return s.phase="loading",s.moduleId=r,s.neededBy=n,s}_onLoadError(t,e){const r=this._createLoadError(t,e);this._modules2[t]||(this._modules2[t]=new _(t,this._moduleIdProvider.getStrModuleId(t),[],()=>{},null,null));let n=[];for(let a=0,l=this._moduleIdProvider.getMaxModuleId();a<l;a++)n[a]=!1;let s=!1,u=[];for(u.push(t),n[t]=!0;u.length>0;){let a=u.shift(),l=this._modules2[a];l&&(s=l.onDependencyError(r)||s);let p=this._inverseDependencies2[a];if(p)for(let v=0,y=p.length;v<y;v++){let P=p[v];n[P]||(u.push(P),n[P]=!0)}}s||this._config.onError(r)}_hasDependencyPath(t,e){let r=this._modules2[t];if(!r)return!1;let n=[];for(let u=0,a=this._moduleIdProvider.getMaxModuleId();u<a;u++)n[u]=!1;let s=[];for(s.push(r),n[t]=!0;s.length>0;){let a=s.shift().dependencies;if(a)for(let l=0,p=a.length;l<p;l++){let v=a[l];if(v.id===e)return!0;let y=this._modules2[v.id];y&&!n[v.id]&&(n[v.id]=!0,s.push(y))}}return!1}_findCyclePath(t,e,r){if(t===e||r===50)return[t];let n=this._modules2[t];if(!n)return null;let s=n.dependencies;if(s)for(let u=0,a=s.length;u<a;u++){let l=this._findCyclePath(s[u].id,e,r+1);if(l!==null)return l.push(t),l}return null}_createRequire(t){let e=(r,n,s)=>this._relativeRequire(t,r,n,s);return e.toUrl=r=>this._config.requireToUrl(t.resolveModule(r)),e.getStats=()=>this.getLoaderEvents(),e.hasDependencyCycle=()=>this._hasDependencyCycle,e.config=(r,n=!1)=>{this.configure(r,n)},e.__$__nodeRequire=o.global.nodeRequire,e}_loadModule(t){if(this._modules2[t]||this._knownModules2[t])return;this._knownModules2[t]=!0;let e=this._moduleIdProvider.getStrModuleId(t),r=this._config.moduleIdToPaths(e),n=/^@[^\/]+\/[^\/]+$/;this._env.isNode&&(e.indexOf("/")===-1||n.test(e))&&r.push("node|"+e);let s=-1,u=a=>{if(s++,s>=r.length)this._onLoadError(t,a);else{let l=r[s],p=this.getRecorder();if(this._config.isBuild()&&l==="empty:"){this._buildInfoPath[t]=l,this.defineModule(this._moduleIdProvider.getStrModuleId(t),[],null,null,null),this._onLoad(t);return}p.record(10,l),this._scriptLoader.load(this,l,()=>{this._config.isBuild()&&(this._buildInfoPath[t]=l),p.record(11,l),this._onLoad(t)},v=>{p.record(12,l),u(v)})}};u(null)}_loadPluginDependency(t,e){if(this._modules2[e.id]||this._knownModules2[e.id])return;this._knownModules2[e.id]=!0;let r=n=>{this.defineModule(this._moduleIdProvider.getStrModuleId(e.id),[],n,null,null)};r.error=n=>{this._config.onError(this._createLoadError(e.id,n))},t.load(e.pluginParam,this._createRequire(d.ROOT),r,this._config.getOptionsLiteral())}_resolve(t){let e=t.dependencies;if(e)for(let r=0,n=e.length;r<n;r++){let s=e[r];if(s===h.EXPORTS){t.exportsPassedIn=!0,t.unresolvedDependenciesCount--;continue}if(s===h.MODULE){t.unresolvedDependenciesCount--;continue}if(s===h.REQUIRE){t.unresolvedDependenciesCount--;continue}let u=this._modules2[s.id];if(u&&u.isComplete()){if(u.error){t.onDependencyError(u.error);return}t.unresolvedDependenciesCount--;continue}if(this._hasDependencyPath(s.id,t.id)){this._hasDependencyCycle=!0,console.warn("There is a dependency cycle between '"+this._moduleIdProvider.getStrModuleId(s.id)+"' and '"+this._moduleIdProvider.getStrModuleId(t.id)+"'. The cyclic path follows:");let a=this._findCyclePath(s.id,t.id,0)||[];a.reverse(),a.push(s.id),console.warn(a.map(l=>this._moduleIdProvider.getStrModuleId(l)).join(` => 
`)),t.unresolvedDependenciesCount--;continue}if(this._inverseDependencies2[s.id]=this._inverseDependencies2[s.id]||[],this._inverseDependencies2[s.id].push(t.id),s instanceof i){let a=this._modules2[s.pluginId];if(a&&a.isComplete()){this._loadPluginDependency(a.exports,s);continue}let l=this._inversePluginDependencies2.get(s.pluginId);l||(l=[],this._inversePluginDependencies2.set(s.pluginId,l)),l.push(s),this._loadModule(s.pluginId);continue}this._loadModule(s.id)}t.unresolvedDependenciesCount===0&&this._onModuleComplete(t)}_onModuleComplete(t){let e=this.getRecorder();if(t.isComplete())return;let r=t.dependencies,n=[];if(r)for(let l=0,p=r.length;l<p;l++){let v=r[l];if(v===h.EXPORTS){n[l]=t.exports;continue}if(v===h.MODULE){n[l]={id:t.strId,config:()=>this._config.getConfigForModule(t.strId)};continue}if(v===h.REQUIRE){n[l]=this._createRequire(t.moduleIdResolver);continue}let y=this._modules2[v.id];if(y){n[l]=y.exports;continue}n[l]=null}const s=l=>(this._inverseDependencies2[l]||[]).map(p=>this._moduleIdProvider.getStrModuleId(p));t.complete(e,this._config,n,s);let u=this._inverseDependencies2[t.id];if(this._inverseDependencies2[t.id]=null,u)for(let l=0,p=u.length;l<p;l++){let v=u[l],y=this._modules2[v];y.unresolvedDependenciesCount--,y.unresolvedDependenciesCount===0&&this._onModuleComplete(y)}let a=this._inversePluginDependencies2.get(t.id);if(a){this._inversePluginDependencies2.delete(t.id);for(let l=0,p=a.length;l<p;l++)this._loadPluginDependency(t.exports,a[l])}}}o.ModuleManager=c})(m||(m={}));var O,m;(function(o){const d=new o.Environment;let _=null;const g=function(f,t,e){typeof f!="string"&&(e=t,t=f,f=null),(typeof t!="object"||!Array.isArray(t))&&(e=t,t=null),t||(t=["require","exports","module"]),f?_.defineModule(f,t,e,null,null):_.enqueueDefineAnonymousModule(t,e)};g.amd={jQuery:!0};const h=function(f,t=!1){_.configure(f,t)},i=function(){if(arguments.length===1){if(arguments[0]instanceof Object&&!Array.isArray(arguments[0])){h(arguments[0]);return}if(typeof arguments[0]=="string")return _.synchronousRequire(arguments[0])}if((arguments.length===2||arguments.length===3)&&Array.isArray(arguments[0])){_.defineModule(o.Utilities.generateAnonymousModule(),arguments[0],arguments[1],arguments[2],null);return}throw new Error("Unrecognized require call")};i.config=h,i.getConfig=function(){return _.getConfig().getOptionsLiteral()},i.reset=function(){_=_.reset()},i.getBuildInfo=function(){return _.getBuildInfo()},i.getStats=function(){return _.getLoaderEvents()},i.define=g;function c(){if(typeof o.global.require<"u"||typeof require<"u"){const f=o.global.require||require;if(typeof f=="function"&&typeof f.resolve=="function"){const t=o.ensureRecordedNodeRequire(_.getRecorder(),f);o.global.nodeRequire=t,i.nodeRequire=t,i.__$__nodeRequire=t}}d.isNode&&!d.isElectronRenderer&&!d.isElectronNodeIntegrationWebWorker?E.exports=i:(d.isElectronRenderer||(o.global.define=g),o.global.require=i)}o.init=c,(typeof o.global.define!="function"||!o.global.define.amd)&&(_=new o.ModuleManager(d,o.createScriptLoader(d),g,i,o.Utilities.getHighPerformanceTimestamp()),typeof o.global.require<"u"&&typeof o.global.require!="function"&&i.config(o.global.require),O=function(){return g.apply(null,arguments)},O.amd=g.amd,typeof doNotInitLoader>"u"&&c())})(m||(m={})),O("vs/css",["require","exports"],function(o,d){"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.load=void 0;function _(f,t,e,r){if(r=r||{},(r["vs/css"]||{}).disabled){e({});return}const s=t.toUrl(f+".css");g(f,s,()=>{e({})},u=>{typeof e.error=="function"&&e.error("Could not find "+s+".")})}d.load=_;function g(f,t,e,r){if(h(f,t)){e();return}i(f,t,e,r)}function h(f,t){const e=document.getElementsByTagName("link");for(let r=0,n=e.length;r<n;r++){const s=e[r].getAttribute("data-name"),u=e[r].getAttribute("href");if(s===f||u===t)return!0}return!1}function i(f,t,e,r){const n=document.createElement("link");n.setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n.setAttribute("data-name",f),c(f,n,e,r),n.setAttribute("href",t),(document.head||document.getElementsByTagName("head")[0]).appendChild(n)}function c(f,t,e,r){const n=()=>{t.removeEventListener("load",s),t.removeEventListener("error",u)},s=a=>{n(),e()},u=a=>{n(),r(a)};t.addEventListener("load",s),t.addEventListener("error",u)}}),O("vs/nls",["require","exports"],function(o,d){"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.load=d.create=d.setPseudoTranslation=d.getConfiguredDefaultLocale=d.localize=void 0;let _=typeof document<"u"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;const g="i-default";function h(a,l){let p;return l.length===0?p=a:p=a.replace(/\{(\d+)\}/g,(v,y)=>{const P=y[0],S=l[P];let D=v;return typeof S=="string"?D=S:(typeof S=="number"||typeof S=="boolean"||S===void 0||S===null)&&(D=String(S)),D}),_&&(p="\uFF3B"+p.replace(/[aouei]/g,"$&$&")+"\uFF3D"),p}function i(a,l){let p=a[l];return p||(p=a["*"],p)?p:null}function c(a){return a.charAt(a.length-1)==="/"?a:a+"/"}async function f(a,l,p){const v=c(a)+c(l)+"vscode/"+c(p),y=await fetch(v);if(y.ok)return await y.json();throw new Error(`${y.status} - ${y.statusText}`)}function t(a){return function(l,p){const v=Array.prototype.slice.call(arguments,2);return h(a[l],v)}}function e(a,l,...p){return h(l,p)}d.localize=e;function r(a){}d.getConfiguredDefaultLocale=r;function n(a){_=a}d.setPseudoTranslation=n;function s(a,l){return{localize:t(l[a]),getConfiguredDefaultLocale:l.getConfiguredDefaultLocale??(p=>{})}}d.create=s;function u(a,l,p,v){const y=v["vs/nls"]??{};if(!a||a.length===0)return p({localize:e,getConfiguredDefaultLocale:()=>y.availableLanguages?.["*"]});const P=y.availableLanguages?i(y.availableLanguages,a):null,S=P===null||P===g;let D=".nls";S||(D=D+"."+P);const w=I=>{Array.isArray(I)?I.localize=t(I):I.localize=t(I[a]),I.getConfiguredDefaultLocale=()=>y.availableLanguages?.["*"],p(I)};typeof y.loadBundle=="function"?y.loadBundle(a,P,(I,q)=>{I?l([a+".nls"],w):w(q)}):y.translationServiceUrl&&!S?(async()=>{try{const I=await f(y.translationServiceUrl,P,a);return w(I)}catch(I){if(!P.includes("-"))return console.error(I),l([a+".nls"],w);try{const q=P.split("-")[0],U=await f(y.translationServiceUrl,q,a);return y.availableLanguages??={},y.availableLanguages["*"]=q,w(U)}catch(q){return console.error(q),l([a+".nls"],w)}}})():l([a+D],w,I=>{if(D===".nls"){console.error("Failed trying to load default language strings",I);return}console.error(`Failed to load message bundle for language ${P}. Falling back to the default language:`,I),l([a+".nls"],w)})}d.load=u})}}),require_bootstrap=__commonJS({"out-build/bootstrap.js"(R,E){"use strict";(function(b,C){typeof R=="object"?E.exports=C():b.MonacoBootstrap=C()})(R,function(){const b=typeof require=="function"?require("module"):void 0,C=typeof require=="function"?require("path"):void 0,O=typeof require=="function"?require("fs"):void 0,m=typeof require=="function"?require("util"):void 0;if(Error.stackTraceLimit=100,typeof process<"u"&&!process.env.VSCODE_HANDLES_SIGPIPE){let t=!1;process.on("SIGPIPE",()=>{t||(t=!0,console.error(new Error("Unexpected SIGPIPE")))})}function o(){if(!C||!b||typeof process>"u"){console.warn("enableASARSupport() is only available in node.js environments");return}const t=C.join(__dirname,"../node_modules"),e=`${t}.asar`,r=b._resolveLookupPaths;b._resolveLookupPaths=function(n,s){const u=r(n,s);if(Array.isArray(u)){for(let a=0,l=u.length;a<l;a++)if(u[a]===t){u.splice(a,0,e);break}}return u}}function d(t,e){let r=t.replace(/\\/g,"/");r.length>0&&r.charAt(0)!=="/"&&(r=`/${r}`);let n;return e.isWindows&&r.startsWith("//")?n=encodeURI(`${e.scheme||"file"}:${r}`):n=encodeURI(`${e.scheme||"file"}://${e.fallbackAuthority||""}${r}`),n.replace(/#/g,"%23")}function _(){const t=h();let e={availableLanguages:{}};if(t&&t.env.VSCODE_NLS_CONFIG)try{e=JSON.parse(t.env.VSCODE_NLS_CONFIG)}catch{}if(e._resolvedLanguagePackCoreLocation){const r=Object.create(null);e.loadBundle=function(n,s,u){const a=r[n];if(a){u(void 0,a);return}c(e._resolvedLanguagePackCoreLocation,`${n.replace(/\//g,"!")}.nls.json`).then(function(l){const p=JSON.parse(l);r[n]=p,u(void 0,p)}).catch(l=>{try{e._corruptedFile&&f(e._corruptedFile,"corrupted").catch(function(p){console.error(p)})}finally{u(l,void 0)}})}}return e}function g(){return(typeof self=="object"?self:typeof global=="object"?global:{}).vscode}function h(){const t=g();if(t)return t.process;if(typeof process<"u")return process}function i(){const t=g();if(t)return t.ipcRenderer}async function c(...t){const e=i();if(e)return e.invoke("vscode:readNlsFile",...t);if(O&&C&&m)return(await m.promisify(O.readFile)(C.join(...t))).toString();throw new Error("Unsupported operation (read NLS files)")}function f(t,e){const r=i();if(r)return r.invoke("vscode:writeNlsFile",t,e);if(O&&m)return m.promisify(O.writeFile)(t,e);throw new Error("Unsupported operation (write NLS files)")}return{enableASARSupport:o,setupNLS:_,fileUriFromPath:d}})}}),require_bootstrap_amd=__commonJS({"out-build/bootstrap-amd.js"(R){"use strict";var E=require;if(globalThis._VSCODE_NODE_MODULES=new Proxy(Object.create(null),{get:(o,d)=>E(String(d))}),globalThis._VSCODE_PRODUCT_JSON=require("../product.json"),process.env.VSCODE_DEV)try{const o=require("../product.overrides.json");globalThis._VSCODE_PRODUCT_JSON=Object.assign(globalThis._VSCODE_PRODUCT_JSON,o)}catch{}globalThis._VSCODE_PACKAGE_JSON=require("../package.json");var b=require_loader(),C=require_bootstrap(),O=require_performance(),m=C.setupNLS();b.config({baseUrl:C.fileUriFromPath(__dirname,{isWindows:process.platform==="win32"}),catchError:!0,nodeRequire:E,"vs/nls":m,amdModulesPattern:/^vs\//,recordStats:!0}),(process.env.ELECTRON_RUN_AS_NODE||process.versions.electron)&&b.define("fs",["original-fs"],function(o){return o}),m&&m.pseudo&&b(["vs/nls"],function(o){o.setPseudoTranslation(!!m.pseudo)}),R.load=function(o,d,_){o&&(process.env.VSCODE_CODE_CACHE_PATH&&b.config({nodeCachedData:{path:process.env.VSCODE_CODE_CACHE_PATH,seed:o}}),d=d||function(){},_=_||function(g){console.error(g)},O.mark("code/fork/willLoadCode"),b([o],d,_))}}}),perf=require_performance(),performance2=require("perf_hooks").performance,product=require("../product.json"),readline=require("readline"),http=require("http");perf.mark("code/server/start"),global.vscodeServerStartTime=performance2.now();async function start(){const E=require("minimist")(process.argv.slice(2),{boolean:["start-server","list-extensions","print-ip-address","help","version","accept-server-license-terms"],string:["install-extension","install-builtin-extension","uninstall-extension","locate-extension","socket-path","host","port","compatibility"],alias:{help:"h",version:"v"}});["host","port","accept-server-license-terms"].forEach(r=>{if(!E[r]){const n=process.env[`VSCODE_SERVER_${r.toUpperCase().replace("-","_")}`];n&&(E[r]=n)}});const b=["list-extensions","locate-extension"],C=["install-extension","install-builtin-extension","uninstall-extension"];if(E.help||E.version||b.some(r=>!!E[r])||C.some(r=>!!E[r])&&!E["start-server"]){loadCode().then(r=>{r.spawnCli()});return}let m=null,o=null;const d=()=>(o||(o=loadCode().then(async r=>{const n=await r.createServer(c);return m=n,n})),o),_=require("http"),g=require("os");if(Array.isArray(product.serverLicense)&&product.serverLicense.length&&(console.log(product.serverLicense.join(`
`)),product.serverLicensePrompt&&E["accept-server-license-terms"]!==!0)){hasStdinWithoutTty()&&(console.log("To accept the license terms, start the server with --accept-server-license-terms"),process.exit(1));try{await prompt(product.serverLicensePrompt)||process.exit(1)}catch(r){console.log(r),process.exit(1)}}let h=!0,i=!0,c=null;const f=_.createServer(async(r,n)=>(h&&(h=!1,perf.mark("code/server/firstRequest")),(await d()).handleRequest(r,n)));f.on("upgrade",async(r,n)=>(i&&(i=!1,perf.mark("code/server/firstWebSocket")),(await d()).handleUpgrade(r,n))),f.on("error",async r=>(await d()).handleServerError(r));const t=sanitizeStringArg(E.host)||(E.compatibility!=="1.63"?"localhost":void 0),e=E["socket-path"]?{path:sanitizeStringArg(E["socket-path"])}:{host:t,port:await parsePort(t,sanitizeStringArg(E.port))};f.listen(e,async()=>{let r=Array.isArray(product.serverGreeting)&&product.serverGreeting.length?`

${product.serverGreeting.join(`
`)}

`:"";if(typeof e.port=="number"&&E["print-ip-address"]){const n=g.networkInterfaces();Object.keys(n).forEach(function(s){n[s]?.forEach(function(u){!u.internal&&u.family==="IPv4"&&(r+=`IP Address: ${u.address}
`)})})}if(c=f.address(),c===null)throw new Error("Unexpected server address");r+=`Server bound to ${typeof c=="string"?c:`${c.address}:${c.port} (${c.family})`}
`,r+=`Extension host agent listening on ${typeof c=="string"?c:c.port}
`,console.log(r),perf.mark("code/server/started"),global.vscodeServerListenTime=performance2.now(),await d()}),process.on("exit",()=>{f.close(),m&&m.dispose()})}function sanitizeStringArg(R){return Array.isArray(R)&&(R=R.pop()),typeof R=="string"?R:void 0}async function parsePort(R,E){if(E){let b;if(E.match(/^\d+$/))return parseInt(E,10);if(b=parseRange(E)){const C=await findFreePort(R,b.start,b.end);if(C!==void 0)return C;console.warn(`--port: Could not find free port in range: ${b.start} - ${b.end} (inclusive).`),process.exit(1)}else console.warn(`--port "${E}" is not a valid number or range. Ranges must be in the form 'from-to' with 'from' an integer larger than 0 and not larger than 'end'.`),process.exit(1)}return 8e3}function parseRange(R){const E=R.match(/^(\d+)-(\d+)$/);if(E){const b=parseInt(E[1],10),C=parseInt(E[2],10);if(b>0&&b<=C&&C<=65535)return{start:b,end:C}}}async function findFreePort(R,E,b){const C=O=>new Promise(m=>{const o=http.createServer();o.listen(O,R,()=>{o.close(),m(!0)}).on("error",()=>{m(!1)})});for(let O=E;O<=b;O++)if(await C(O))return O}function loadCode(){return new Promise((R,E)=>{const b=require("path");delete process.env.ELECTRON_RUN_AS_NODE,process.env.VSCODE_HANDLES_SIGPIPE="true",process.env.VSCODE_DEV?(process.env.VSCODE_INJECT_NODE_MODULE_LOOKUP_PATH=process.env.VSCODE_INJECT_NODE_MODULE_LOOKUP_PATH||b.join(__dirname,"..","remote","node_modules"),require_bootstrap_node().injectNodeModuleLookupPath(process.env.VSCODE_INJECT_NODE_MODULE_LOOKUP_PATH)):delete process.env.VSCODE_INJECT_NODE_MODULE_LOOKUP_PATH,require_bootstrap_amd().load("vs/server/node/server.main",R,E)})}function hasStdinWithoutTty(){try{return!process.stdin.isTTY}catch{}return!1}function prompt(R){const E=readline.createInterface({input:process.stdin,output:process.stdout});return new Promise((b,C)=>{E.question(R+" ",async function(O){E.close();const m=O.toString().trim().toLowerCase();m===""||m==="y"||m==="yes"?b(!0):m==="n"||m==="no"?b(!1):(process.stdout.write(`
Invalid Response. Answer either yes (y, yes) or no (n, no)
`),b(await prompt(R)))})})}start();

//# sourceMappingURL=https://ticino.blob.core.windows.net/sourcemaps/f1b07bd25dfad64b0167beb15359ae573aecd2cc/core/server-main.js.map
